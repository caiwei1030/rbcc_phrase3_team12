# 📦 智能打包数字化系统

一个基于Streamlit开发的智能信息管理系统，实现报表管理和数据管理的双重增删改查功能，无需数据库，使用JSON和CSV文件存储数据。

## ✨ 主要功能

### 1. 报表管理 (Report Management)
- **创建报表**: 创建新的数据报表，设置报表名称、描述和创建人
- **查看报表**: 显示所有报表列表，包含详细信息
- **编辑报表**: 修改报表名称和描述信息
- **删除报表**: 安全删除指定报表及其所有数据

### 2. 数据管理 (Data Management)
- **添加数据**: 向指定报表添加零件记录，自动生成序号、时间和数量
- **查看数据**: 显示选定报表的完整数据，包含统计信息和导出功能
- **编辑数据**: 修改报表中记录的零件名称、数量和扫描人员
- **删除数据**: 安全删除报表中的指定记录

### 3. 数据字段
- **序号 (ID)**: 自动递增的唯一标识符
- **零件名称**: 用户输入的零件名称
- **零件数量**: 每次添加自动+1
- **扫描人员**: 操作人员姓名
- **时间**: 自动记录操作时间

### 4. 界面特性
- **水印**: 左上角固定显示logo图片
- **响应式设计**: 支持不同屏幕尺寸
- **美观界面**: 现代化的UI设计，卡片式布局
- **操作反馈**: 成功/错误消息提示
- **标签页导航**: 清晰的功能分区

## 🚀 安装和运行

### 本地运行

#### 1. 安装依赖
```bash
pip install -r requirements.txt
```

#### 2. 配置环境变量
创建 `.streamlit/secrets.toml` 文件并设置：
```toml
SILICONFLOW_API_KEY = "your_api_key_here"
```

#### 3. 运行应用
```bash
streamlit run app.py
```

#### 4. 访问系统
打开浏览器访问: http://localhost:8501

### 云端部署

#### 1. 推送到 GitHub
```bash
git add .
git commit -m "Initial commit"
git push origin main
```

#### 2. 部署到 Streamlit Cloud
1. 访问 [share.streamlit.io](https://share.streamlit.io)
2. 使用 GitHub 账号登录
3. 选择你的仓库并部署
4. 在环境变量中设置 `SILICONFLOW_API_KEY`

详细部署说明请参考 [DEPLOYMENT.md](DEPLOYMENT.md)

## 📁 项目结构

```
智能打包数字化系统/
├── app.py              # 主应用程序
├── requirements.txt    # 依赖包列表
├── README.md          # 说明文档
├── run.bat            # Windows启动脚本
├── dataset/           # 数据目录
│   ├── parts_data.csv # 原始数据文件（兼容性）
│   ├── reports.json   # 报表元数据
│   └── reports/       # 报表数据目录
│       ├── 1.csv      # 报表1的数据
│       ├── 2.csv      # 报表2的数据
│       └── ...        # 更多报表数据
└── imgs/              # 图片目录
    └── logo.png       # 水印logo
```

## 💡 使用说明

### 报表管理流程
1. **创建报表**
   - 在侧边栏选择"报表管理"
   - 点击"创建新报表"展开表单
   - 填写报表名称、创建人和描述
   - 点击"创建报表"按钮

2. **管理报表**
   - 查看报表列表和详细信息
   - 点击"编辑报表信息"修改报表属性
   - 点击"删除报表"删除整个报表

### 数据管理流程
1. **选择报表**
   - 在侧边栏选择"数据管理"
   - 从下拉菜单选择要管理的报表

2. **添加数据**
   - 选择"添加数据"标签页
   - 填写零件名称和扫描人员
   - 点击"添加数据"按钮

3. **查看数据**
   - 选择"查看数据"标签页
   - 查看统计信息和完整数据表
   - 可导出CSV文件

4. **编辑数据**
   - 选择"编辑数据"标签页
   - 选择要编辑的记录ID
   - 修改相关信息并保存

5. **删除数据**
   - 选择"删除数据"标签页
   - 选择要删除的记录ID
   - 确认删除操作

## 🔧 技术特点

- **双重架构**: 报表管理和数据管理分离，层次清晰
- **无数据库**: 使用JSON和CSV文件存储，简单易维护
- **实时更新**: 数据操作后立即生效，自动更新时间戳
- **数据安全**: 删除操作需要确认，防止误操作
- **用户友好**: 直观的界面和操作流程
- **响应式**: 支持不同设备访问
- **状态管理**: 使用Streamlit session_state管理界面状态

## 📊 数据存储结构

### 报表元数据 (reports.json)
```json
[
  {
    "id": 1,
    "name": "报表名称",
    "description": "报表描述",
    "creator": "创建人",
    "created_time": "创建时间",
    "last_modified": "最后修改时间"
  }
]
```

### 报表数据 (reports/{id}.csv)
```csv
id,part_name,quantity,operator,time
1,零件名称,1,扫描人员,2024-01-01 12:00:00
```

## 🎯 适用场景

- 多项目数据管理
- 分类数据收集
- 团队协作数据录入
- 小型仓库管理
- 零件库存跟踪
- 生产数据记录
- 简单的信息管理系统
- 学习和演示用途

## 📝 注意事项

1. 确保`dataset`目录存在且有写入权限
2. 图片文件路径正确
3. 定期备份数据文件
4. 删除报表会同时删除所有相关数据
5. 建议在生产环境中使用数据库
6. 大量数据时注意性能优化

## 🔄 版本更新

### v2.0 新特性
- 支持多报表管理
- 报表级别的增删改查
- 数据级别的增删改查
- 改进的用户界面
- 更好的数据组织

## 🤝 技术支持

如有问题或建议，请联系技术支持团队。

---

© 2024 智能打包数字化系统 | 技术支持：RBCC-phrase3-Team5
